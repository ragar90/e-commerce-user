"use strict";function angularStarRating(){var a={restrict:"EA",scope:{value:"=value",max:"=max",hover:"=hover",isReadonly:"=isReadonly"},link:linkFunc,template:'<span ng-class="{isReadonly: isReadonly}"><i ng-class="renderObj" ng-repeat="renderObj in renderAry" ng-click="setValue($index)" ng-mouseenter="changeValue($index, changeOnHover )" ></i></span>',replace:!0};return a}function linkFunc(a,b,c,d){function e(){a.renderAry=[];for(var b=0;b<a.max;b++)b<a.value?a.renderAry.push({"fa fa-star fa-2x":!0}):a.renderAry.push({"fa fa-star-o fa-2x":!0})}void 0===a.max&&(a.max=5),a.setValue=function(b){a.isReadonly||void 0===a.isReadonly||(a.value=b+1)},a.changeValue=function(b){a.hover&&a.setValue(b)},a.$watch("value",function(a,b){a&&e()}),a.$watch("max",function(a,b){a&&e()})}angular.module("eCommerceUserApp").controller("AboutCtrl",["$cookieStore","$routeParams","Product","Category","search","Cart","$location","sessionService","$scope","$rootScope",function(a,b,c,d,e,f,g,h,i,j){var k=this,l=d.getPage,m=new l({id:b.id});m.$get(function(a){"success"==a.status&&(k.page=a.response.page)},function(a){"401"==a.status&&h.get("token")})}]),angular.module("eCommerceUserApp").controller("AccountCtrl",["$routeParams","Main","Account","Order","$location","sessionService","endpoint","$scope","fileUpload","$http",function(a,b,c,d,e,f,g,h,i,j){function k(a,b,c){return fetch(a).then(function(a){return a.arrayBuffer()}).then(function(a){return new File([a],b,{type:c})})}var l=this;h.myImage="",h.myCroppedImage="";var m=function(a){var b=a.currentTarget.files[0],c=new FileReader;c.onload=function(a){h.$apply(function(b){b.myImage=a.target.result})},c.readAsDataURL(b)};angular.element(document.querySelector("#fileInput")).on("change",m),l.crop=function(){console.log(l.ud),k(h.myCroppedImage,"a.png","image/png").then(function(a){var b=new FormData;b.append("image",a);var d=g+"/images/upload-single-image";j.post(d,b,{transformRequest:angular.identity,headers:{"Content-Type":void 0}}).success(function(a){if(console.log("ff"),"success"==a.status){l.dataLoading=!1,user.logo=a.response._id;var b=c.saveDetails,d=new b(user);d.$get().then(function(a){"success"==a.status?l.success=a:(l.dataLoading=!1,l.error=a)})}}).error(function(a,b){console.log(a)})})},this.close=function(){l.error="",l.success=""};var n=b.getCountry,o=new n;o.$get(function(a){l.country=a.response});var p=c.getDetails,q=new p;q.$get({guest_token:f.get("token")},function(a){"fail"==a.status&&e.path("/login"),"success"==a.status&&(l.ud=a.response,void 0!=a.response.billing?(l.billing=a.response.billing,l.shipping=a.response.shipping):(l.billing=a.response.address,l.shipping=a.response.address))},function(a){"401"==a.status&&f.get("token")});var r=d.getOrder,s=new r;s.$get({guest_token:f.get("token")},function(a){"success"==a.status&&(l.orders=a.response)},function(a){"401"==a.status&&f.get("token")}),this.updateUser=function(a){l.dataLoading=!0;h.myFile;k(h.myCroppedImage,"a.png","image/png").then(function(a){var b=g+"/images/upload-single-image";i.uploadFileToUrl(a,b,l.ud,l)})},this.changePassword=function(a){l.dataLoading=!0;var b=c.updatePassword,d=new b(l.change);d.$get().then(function(a){"success"==a.status?(l.dataLoading=!1,l.success=a):(l.dataLoading=!1,l.error=a)})}}]).directive("fileModel",["$parse",function(a){return{restrict:"A",link:function(b,c,d){var e=a(d.fileModel),f=e.assign;c.bind("change",function(){b.$apply(function(){f(b,c[0].files[0])})})}}}]).service("fileUpload",["$http","Account",function(a,b){this.uploadFileToUrl=function(c,d,e,f){var g=new FormData;g.append("image",c),a.post(d,g,{transformRequest:angular.identity,headers:{"Content-Type":void 0}}).success(function(a){f.dataLoading=!1,e.logo=a.response._id,$("#image_id").attr("src",a.response.cdn.secure_url);var c=b.saveDetails,d=new c(e);d.$get().then(function(a){"success"==a.status?f.success=a:(f.dataLoading=!1,f.error=a)})}).error(function(){})}}]),angular.module("eCommerceUserApp").controller("CartCtrl",["$routeParams","Cart","$location","sessionService","$scope",function(a,b,c,d,e){var f=this;this.close=function(){f.status=""};var g=b.getCart,h=new g;h.$get({guest_token:d.get("token")},function(a){if("success"==a.status){f.carts=a.response;var b=0,c=0;a.response.forEach(function(a){b+=a.product_id.pricing.after_discount*a.product_quantity,c+=a.product_id.shipping_details.fee}),e.header.totalprice=b,f.totalprice=b,f.shipprice=c,f.overprice=c+b}},function(a){"401"==a.status&&d.get("token")}),this.removeCart=function(a){f.dataLoading=!0;var c=new b.RemoveCart;c.$get({guest_token:d.get("token"),cart_id:a},function(a){if("success"==a.status){f.success=a;var c=new b.getCart;c.$get({guest_token:d.get("token")},function(a){if("success"==a.status){e.header.carts=a.response,f.carts=a.response;var b=0,c=0;a.response.forEach(function(a){b+=a.product_id.pricing.after_discount*a.product_quantity,c+=a.product_id.shipping_details.fee}),e.header.totalprice=b,f.totalprice=b,f.shipprice=c,f.overprice=c+b,f.dataLoading=!1}})}},function(a){"401"==a.status&&d.get("token")})},this.updateCart=function(a,g,h){var i=$("#"+h).val().replace(/[^0-9-]/g,"");if(0>=$("#"+h).val())return $("#"+h).val(a),f.status="error",f.statusMessage="Please enter valid number",!1;if(a==$("#"+h).val())return!1;if($("#"+h).val()!==i)return $("#"+h).val(a),f.status="error",f.statusMessage="Please enter valid number",!1;if(g<$("#"+h).val())return f.error=h,f.status="error",f.statusMessage=" Sorry! Only "+g+" Item available",!1;f.dataLoading=!0,e.carts=[];var j=new b.UpdateToCart({product_id:h,quantity:$("#"+h).val()});j.$get({guest_token:d.get("token")},function(a){if("fail"==a.status&&c.path("#/login"),"success"==a.status){f.success=a;var g=new b.getCart;g.$get({guest_token:d.get("token")},function(a){if("success"==a.status){e.header.carts=a.response,f.carts=a.response;var b=0,c=0;a.response.forEach(function(a){b+=a.product_id.pricing.after_discount*a.product_quantity,c+=a.product_id.shipping_details.fee}),e.header.totalprice=b,f.totalprice=b,f.shipprice=c,f.overprice=c+b,f.dataLoading=!1}})}},function(a){"401"==a.status&&(f.dataLoading=!1,d.get("token"))})}}]),angular.module("eCommerceUserApp").controller("CheckoutCtrl",["$routeParams","dpath","Product","Main","Cart","Checkout","$location","sessionService","endpoint","$scope",function(a,b,c,d,e,f,g,h,i,j){var k=this,l=d.getCountry,m=new l;m.$get(function(a){k.country=a.response});var n=e.getCart,m=new n;m.$get({guest_token:h.get("token")},function(a){if("success"==a.status){k.carts=a.response;var b=0,c=0;a.response.forEach(function(a){b+=a.product_id.pricing.after_discount*a.product_quantity,c+=a.product_id.shipping_details.fee}),j.header.totalprice=b,k.totalprice=b,k.shipprice=c,k.overprice=c+b}},function(a){"401"==a.status&&h.get("token")});var o=f.getAddress,p=new o;p.$get({guest_token:h.get("token")},function(a){"success"==a.status&&(void 0!=a.response.shipping?(k.ship=a.response.shipping,k.bill=a.response.billing):(delete a.response.address._id,k.ship=a.response.address,k.bill=a.response.address))},function(a){"401"==a.status&&h.get("token")}),this.addFormFields=function(a,b){null!=b&&$.each(b,function(b,c){if(null!=c){var d=$("<input></input>").attr("type","hidden").attr("name",b).val(c);a.append(d)}})},this.makePayment=function(){var a=c.getAdmin,d=new a;d.$get({guest_token:h.get("token")},function(a){if("success"==a.status){k.padmin=a.response;var a={cmd:"_cart",business:k.padmin.payment_gateway[0].email,"return":b+"success",notify_url:b+"payment/notify-order/"+h.get("user_token"),upload:1,currency_code:"USD",cancel_return:b+"cancel"},c=f.addShipAddress,d=new c(k.ship);d.$get({guest_token:h.get("token")}).then(function(b){if("fail"==b.status&&g.path("/login"),"success"==b.status){var c=f.addBillAddress,d=new c(k.bill);d.$get({guest_token:h.get("token")}).then(function(b){if("success"==b.status){var c=e.getCart,d=new c;d.$get({guest_token:h.get("token")},function(b){if("success"==b.status){var c=1;b.response.forEach(function(b){a["item_number_"+c]=b.product_id.sku,a["item_name_"+c]=b.product_id.title,a["quantity_"+c]=b.product_quantity,a["amount_"+c]=b.product_id.pricing.after_discount.toFixed(2),a["shipping_"+c]=b.product_id.shipping_details.fee.toFixed(2),c++});var d=$("<form/></form>");d.attr("action","https://www."+k.padmin.payment_gateway[0].mode+".paypal.com/cgi-bin/webscr"),d.attr("method","POST"),d.attr("style","display:none;"),k.addFormFields(d,a),$("body").append(d),d.submit(),d.remove()}})}})}})}},function(a){"401"==a.status&&h.get("token")})}}]),angular.module("eCommerceUserApp").controller("ForgotCtrl",["$routeParams","Forgot","newPassword","sessionService","$location",function(a,b,c,d,e){var f=this;this.close=function(){f.error="",f.success=""},this.forgotPass=function(){f.dataLoading=!0;var a=new b(f.forgot);a.$forgot().then(function(a){"success"==a.status?(f.dataLoading=!1,f.success=a):(f.dataLoading=!1,f.error=a)})},this.newPass=function(){f.dataLoading=!0;var a=new c(f.newpassword);a.$newpassword().then(function(a){"success"==a.status?(f.dataLoading=!1,f.success=a):(f.dataLoading=!1,f.error=a)})}}]),angular.module("eCommerceUserApp").controller("HeaderCtrl",["$cookieStore","$routeParams","Product","Category","search","Cart","$location","sessionService","$scope","$rootScope",function(a,b,c,d,e,f,g,h,i,j){var k=this;k.user=h.get("user"),this.close=function(){k.error="",k.success=""};var l=c.getAdmin,m=new l;m.$get({guest_token:h.get("token")},function(a){"success"==a.status&&(k.admin=a.response)},function(a){"401"==a.status&&h.get("token")});var n=d.getPage,o=new n;o.$get({guest_token:h.get("token")},function(a){"success"==a.status&&(k.pages=a.response.pages)},function(a){"401"==a.status&&h.get("token")});var p=f.getCart,q=new p;q.$get({guest_token:h.get("token")},function(a){if("success"==a.status){k.carts=a.response;var b=0;a.response.forEach(function(a){b+=a.product_id.pricing.after_discount*a.product_quantity}),k.totalprice=b,k.pageLoading=!1}else h.destroy("token"),h.destroy("user"),h.destroy("user_token"),g.path("#/login")},function(a){"401"==a.status&&h.get("token")}),this.searchP=function(){g.path("search").search({q:k.srch.name})},this.searchPs=function(){var a=e.searchProduct,c=new a({name:b.q});c.$get(function(a){"success"==a.status?k.products=a.response.product:k.error=a})},this.removeCart=function(a){var b=new f.RemoveCart;b.$get({guest_token:h.get("token"),cart_id:a},function(a){if("success"==a.status){k.success=a;var b=new f.getCart;b.$get({guest_token:h.get("token")},function(a){if("success"==a.status){i.header.carts=a.response,k.carts=a.response;var b=0,c=0;a.response.forEach(function(a){b+=a.product_id.pricing.after_discount*a.product_quantity,c+=a.product_id.shipping_details.fee}),i.header.totalprice=b,k.totalprice=b,k.shipprice=c,k.overprice=c+b}})}},function(a){"401"==a.status&&h.get("token")})};var r=d.getCategory,q=new r;q.$get(function(a){"success"==a.status&&(k.category=a.response.categories)},function(a){"401"==a.status&&h.get("token")}),this.categorySearch=function(){var a=new c.cateProduct({category:b.id});a.$get(function(a){"success"==a.status&&(k.products=a.response.product,k.cate=a.response.category)},function(a){"401"==a.status&&h.get("token")})};var s=c.getPopular,t=new s;t.$get(function(a){if("success"==a.status){for(var b=a.response.product,c=0;c<b.length;c++){var d=b[c];b[c].totalOffer=(d.pricing.original-d.pricing.after_discount)/d.pricing.original*100}k.popular=b}},function(a){"401"==a.status&&h.get("token")}),this.priceSearch=function(){var a=e.searchPriceProduct,c=new a;c.$get({category:b.id,lprice:$("#minp").val(),hprice:$("#maxp").val()},function(a){"success"==a.status?k.products=a.response.product:k.error=a})},void 0!=b.id&&this.categorySearch(),void 0!=b.q&&this.searchPs(),i.$on("ngRepeatFinisheds",function(a){$("#slider-range").slider({range:!0,min:0,max:1e4,values:[0,1e3],slide:function(a,b){$("#amount").val("$"+b.values[0]+" - $"+b.values[1]),$("#minp").val(b.values[0]),$("#maxp").val(b.values[1])}}),$("#amount").val("$"+$("#slider-range").slider("values",0)+" - $"+$("#slider-range").slider("values",1)),$("#minp").val($("#slider-range").slider("values",0)),$("#maxp").val($("#slider-range").slider("values",1))})}]).filter("cut",function(){return function(a,b,c,d){if(!a)return"";if(c=parseInt(c,10),!c)return a;if(a.length<=c)return a;if(a=a.substr(0,c),b){var e=a.lastIndexOf(" ");-1!=e&&(("."==a.charAt(e-1)||","==a.charAt(e-1))&&(e-=1),a=a.substr(0,e))}return a+(d||" …")}}),angular.module("eCommerceUserApp").controller("LoginCtrl",["$http","$routeParams","UserAuth","ConfirmUser","sessionService","$location","$scope",function(a,b,c,d,e,f,g){var h=this;h.login={email:e.get("remail"),password:e.get("rpass")},h.success=angular.fromJson(e.get("success")),e.destroy("success"),this.close=function(){h.error="",h.success=""},this.loginAsUser=function(){h.dataLoading=!0;var b=new c(h.login);b.$login({guest_token:e.get("token")}).then(function(b){"success"==b.status?(1==document.getElementById("remember").checked&&(e.set("remail",h.login.email),e.set("rpass",h.login.password)),e.set("user",JSON.stringify(b.response.user)),e.set("user_token",angular.fromJson(e.get("user")).token),a.defaults.headers.common.Authorization=e.get("user_token"),f.path("/")):(h.dataLoading=!1,h.error=b)})},this.confirmAsUser=function(){var a=new d.confirmCheck(b.id);a.$get(function(a){"success"==a.status?h.success=a:h.error=a},function(a){"401"==a.status&&e.get("token")})},this.logout=function(){e.destroy("token"),e.destroy("user"),e.destroy("user_token"),f.path("#/login")},void 0!=b.id&&this.confirmAsUser()}]),angular.module("eCommerceUserApp").controller("MainCtrl",["Product","Category","search","Main","Cart","$location","sessionService","$scope",function(a,b,c,d,e,f,g,h){var i=this,j=new b.getCategoryProduct;j.$get(function(a){"success"==a.status&&(i.cateproduct=a.response)},function(a){"401"==a.status&&g.get("token")});var k=d.getHomepage,l=new k;l.$get(function(a){"success"==a.status&&(i.home=a.response)},function(a){"401"==a.status&&g.get("token")});var m=a.getTopProducts,n=new m;n.$get(function(a){if("success"==a.status){for(var b=a.response.product,c=0;c<b.length;c++){var d=b[c];b[c].totalOffer=(d.pricing.original-d.pricing.after_discount)/d.pricing.original*100}i.top_product=b}},function(a){"401"==a.status&&g.get("token")});var o=a.getBestSeller,p=new o;p.$get(function(a){if("success"==a.status){for(var b=a.response.product,c=0;c<b.length;c++){var d=b[c];b[c].totalOffer=(d.pricing.original-d.pricing.after_discount)/d.pricing.original*100}i.best_seller=b}},function(a){"401"==a.status&&g.get("token")});var q=a.getBestOffer,r=new q;r.$get(function(a){if("success"==a.status){for(var b=a.response.product,c=0;c<b.length;c++){var d=b[c];b[c].totalOffer=(d.pricing.original-d.pricing.after_discount)/d.pricing.original*100}i.best_offer=b}},function(a){"401"==a.status&&g.get("token")});var s=a.getPopular,t=new s;t.$get(function(a){if("success"==a.status){for(var b=a.response.product,c=0;c<b.length;c++){var d=b[c];b[c].totalOffer=(d.pricing.original-d.pricing.after_discount)/d.pricing.original*100}i.popular=b}},function(a){"401"==a.status&&g.get("token")});var u=a.getTopRated,v=new u;v.$get(function(a){if("success"==a.status){for(var b=a.response.product,c=0;c<b.length;c++){var d=b[c];b[c].totalOffer=(d.pricing.original-d.pricing.after_discount)/d.pricing.original*100}i.topr=b}},function(a){"401"==a.status&&g.get("token")}),h.$on("ngRepeatFinishednivo",function(a){$("#my-nivoslider").nivoSlider({effect:"random",slices:15,boxCols:8,boxRows:4,animSpeed:500,pauseTime:5e3,startSlide:0,directionNav:!0,controlNavThumbs:!0,pauseOnHover:!1,manualAdvance:!1})}),h.$on("ngRepeatFinished",function(a){$(".active-items-4").owlCarousel({autoPlay:!1,slideSpeed:2e3,pagination:!1,navigation:!0,items:4,navigationText:["<i class='fa fa-angle-left'></i>","<i class='fa fa-angle-right'></i>"],itemsDesktop:[1199,3],itemsDesktopSmall:[991,3],itemsTablet:[767,1],itemsMobile:[479,1]})}),h.$on("ngRepeatFinished6",function(a){$(".active-items-6").owlCarousel({autoPlay:!1,slideSpeed:2e3,pagination:!1,navigation:!0,items:4,navigationText:["<i class='fa fa-angle-left'></i>","<i class='fa fa-angle-right'></i>"],itemsDesktop:[1199,3],itemsDesktopSmall:[991,3],itemsTablet:[767,1],itemsMobile:[479,1]})}),h.$on("ngRepeatFinished5",function(a){$(".active-items-5").owlCarousel({autoPlay:!1,slideSpeed:2e3,pagination:!1,navigation:!0,items:4,navigationText:["<i class='fa fa-angle-left'></i>","<i class='fa fa-angle-right'></i>"],itemsDesktop:[1199,3],itemsDesktopSmall:[991,3],itemsTablet:[767,1],itemsMobile:[479,1]})})}]),angular.module("eCommerceUserApp").controller("NotifyCtrl",["$routeParams","Notify","$location","sessionService","endpoint","$scope",function(a,b,c,d,e,f){var g=this,h=b.saveOrder,i=new h;i.$get({guest_token:d.get("token")},function(a){"success"==a.status&&(g.success=a)},function(a){"401"==a.status&&d.get("token")})}]),angular.module("eCommerceUserApp").controller("OrderCtrl",["$routeParams","Order","Checkout","$location","sessionService","endpoint","$scope",function(a,b,c,d,e,f,g){var h=this,i=b.getOrder,j=new i;j.$get({guest_token:e.get("token")},function(a){"success"==a.status&&(h.orders=a.response)},function(a){"401"==a.status&&e.get("token")})}]),angular.module("eCommerceUserApp").controller("PaymentCtrl",["$routeParams","Payment","$location","sessionService","endpoint","$scope",function(a,b,c,d,e,f){var g=this,h=b.saveOrder,i=new h;i.$get({guest_token:d.get("token"),payid:a.tx,status:a.st},function(a){"success"==a.status&&(g.success=a,c.path("order"))},function(a){"401"==a.status&&d.get("token")})}]),angular.module("eCommerceUserApp").controller("ProductCtrl",["$routeParams","Product","Category","Cart","$location","sessionService","$scope",function(a,b,c,d,e,f,g){var h=this;this.close=function(){h.error="",h.success=""},h.re={},g.isReadonly=!1,g.changeOnHover=!1,g.maxValue=5,g.ratingValue=0,h.re.stars=g.ratingValue,this.productDetails=function(){var c=new b.detailsProduct({id:a.pid});c.$get(function(a){if("success"==a.status){h.product=a.response.product[0];var c=new b.cateProduct({category:h.product.categories[0]._id});c.$get(function(a){"success"==a.status&&(h.related=a.response.product)},function(a){"401"==a.status&&f.get("token")});var d=new b.shopTop({id:h.product.seller_id});d.$get(function(a){"success"==a.status&&(h.shoprelated=a.response)},function(a){"401"==a.status&&f.get("token")})}},function(a){"401"==a.status&&f.get("token")});var d=b.getTopProducts,e=new d;e.$get(function(a){"success"==a.status&&(h.top_product=a.response.products)},function(a){"401"==a.status&&f.get("token")})},this.reviewDetails=function(){var c=new b.reviewDetails({id:a.pid});c.$get(function(a){"success"==a.status&&(h.rating=a.response.rating)},function(a){"401"==a.status&&f.get("token")})},this.getReciveCheck=function(){var c=new b.checkReview({id:a.pid,oid:a.oid});c.$get(function(a){"false"==a.status?h.review="active":(h.review="active",h.reviews="active")},function(a){"401"==a.status&&f.get("token")})},this.saveReview=function(){h.re.stars=parseInt($("#stars").val());var c=new b.saveReview(h.re);c.$get({id:a.pid,oid:a.oid},function(c){var d=new b.reviewDetails({id:a.pid});d.$get(function(a){"success"==a.status&&(h.rating=a.response.rating,h.reviews="")})},function(a){"401"==a.status&&f.get("token")})},this.addToCart=function(){var c=new b.AddtoCart({product_id:a.pid,quantity:h.cart.quantity,product_variant:h.cart.product_variant});c.$get({guest_token:f.get("token")},function(a){if("success"==a.status){h.success=a;var b=new d.getCart;b.$get({guest_token:f.get("token")},function(a){if("success"==a.status){g.header.carts=a.response;var b=0;a.response.forEach(function(a){b+=a.product_id.pricing.after_discount*a.product_quantity}),g.header.totalprice=b}})}"fail"==a.status&&(h.error=a)},function(a){"401"==a.status&&f.get("token")})},this.buyNow=function(){var c=new b.AddtoCart({product_id:a.pid,quantity:h.cart.quantity,product_variant:h.cart.product_variant});c.$get({guest_token:f.get("token")},function(a){if("success"==a.status){h.success=a;var b=new d.getCart;b.$get({guest_token:f.get("token")},function(a){if("success"==a.status){g.header.carts=a.response;var b=0;a.response.forEach(function(a){b+=a.product_id.pricing.after_discount*a.product_quantity}),g.header.totalprice=b,e.path("checkout")}})}"fail"==a.status&&(h.error=a,e.path("checkout"))},function(a){"401"==a.status&&f.get("token")})},void 0!=a.pid&&this.productDetails(),this.reviewDetails(),void 0!=a.oid?(this.getReciveCheck(),this.reviewDetails()):h.active="active",g.$on("ngRepeatFinishedsell",function(a){$(".active-items-5").owlCarousel({autoPlay:!1,slideSpeed:2e3,pagination:!1,navigation:!0,items:4,navigationText:["<i class='fa fa-angle-left'></i>","<i class='fa fa-angle-right'></i>"],itemsDesktop:[1199,3],itemsDesktopSmall:[991,3],itemsTablet:[767,1],itemsMobile:[479,1]})}),g.$on("ngRepeatFinishedu",function(a){$(".cart-plus-minus").append('<div class="dec qtybutton">-</div><div class="inc qtybutton">+</div>'),$(".qtybutton").on("click",function(){var a=$(this),b=a.parent().find("input").val(),c=a.parent().find("input").attr("max");if("+"==a.text())if(parseFloat(c)>parseFloat(b))var d=parseFloat(b)+1;else var d=parseFloat(b);else if(b>1)var d=parseFloat(b)-1;else d=1;h.cart.quantity=d,a.parent().find("input").val(d)}),$(".active-items-4").owlCarousel({autoPlay:!1,slideSpeed:2e3,pagination:!1,navigation:!0,items:4,navigationText:["<i class='fa fa-angle-left'></i>","<i class='fa fa-angle-right'></i>"],itemsDesktop:[1199,3],itemsDesktopSmall:[991,3],itemsTablet:[767,1],itemsMobile:[479,1]})})}]),angular.module("eCommerceUserApp").controller("RegisterCtrl",["Register","Main","sessionService","$location","$scope",function(a,b,c,d,e){var f=this;this.close=function(){f.error="",f.success=""};var g=b.getCountry,h=new g;h.$get(function(a){f.country=a.response}),this.registerAsUser=function(){f.dataLoading=!0;var b=new a(f.register);b.$register().then(function(a){"success"==a.status?(f.dataLoading=!1,f.success=a,c.set("success",JSON.stringify(a)),d.path("#/login")):(f.dataLoading=!1,f.error=a)})}}]),angular.module("eCommerceUserApp").controller("ReturnCtrl",["$routeParams","Product","Category","Cart","$location","sessionService","$scope",function(a,b,c,d,e,f,g){var h=this;this.close=function(){h.error="",h.success=""};var i=new b.detailsReturnProduct({id:a.pid,oid:a.oid});i.$get(function(a){"success"==a.status&&(h.product=a.response.product)},function(a){"401"==a.status&&f.get("token")}),this.addToReturn=function(){var c=new b.addReturn(h["return"]);c.$get({id:a.pid,oid:a.oid},function(a){"success"==a.status?h.success=a:h.error=a},function(a){"401"==a.status&&f.get("token")})}}]),angular.module("eCommerceUserApp").controller("ShopCtrl",["$routeParams","Product","Category","Cart","$location","sessionService","$scope",function(a,b,c,d,e,f,g){var h=this;this.close=function(){h.error="",h.success=""},this.shopDetails=function(){var c=new b.shopProducts;c.$get({id:a.sid},function(a){"success"==a.status&&(h.seller=a.response[0])},function(a){"401"==a.status&&f.get("token")})};var i=new b.shopList;i.$get(function(a){"success"==a.status&&(h.shops=a.response)},function(a){"401"==a.status&&f.get("token")}),void 0!=a.sid&&this.shopDetails()}]),angular.module("eCommerceUserApp").directive("angularStarRating",angularStarRating),angular.module("eCommerceUserApp").directive("footerBar",function(){return{templateUrl:"partials/footerbar.html",restrict:"E"}}),angular.module("eCommerceUserApp").directive("headerBar",function(){return{templateUrl:"partials/headerbar.html",controller:"HeaderCtrl",controllerAs:"header",restrict:"E"}}),angular.module("eCommerceUserApp").directive("loginheaderBar",function(){return{templateUrl:"partials/loginheaderbar.html",restrict:"E"}}),angular.module("eCommerceUserApp").directive("logout",function(){return{template:'<a style="cursor:pointer;" ng-click="LC.logout()">Logout</a>',restrict:"E",controller:"LoginCtrl",controllerAs:"LC",restrict:"E"}}),angular.module("eCommerceUserApp").directive("partials",function(){return{template:"<div></div>",restrict:"E",link:function(a,b,c){b.text("this is the partials directive")}}}),angular.module("eCommerceUserApp").directive("ulogout",function(){return{template:'<a class="kp-button floatright" style="cursor:pointer;" ng-click="LC.logout()">Logout</a>',controller:"LoginCtrl",controllerAs:"LC",restrict:"E"}}),angular.module("eCommerceUserApp").factory("Account",["$routeParams","$resource","endpoint","sessionService",function(a,b,c,d){return{getDetails:b(c+"/users/account/get-details",null,{get:{method:"GET"}}),saveDetails:b(c+"/users/account/update",null,{get:{method:"PUT"}}),updatePassword:b(c+"/users/account/change-password",null,{get:{method:"POST"}})}}]),angular.module("eCommerceUserApp").factory("sessionService",["$cookieStore",function(a){return{set:function(b,c){return a.put(b,c)},get:function(b){return a.get(b)},destroy:function(b){return a.remove(b)}}}]),angular.module("eCommerceUserApp").factory("Cart",["$routeParams","$resource","endpoint","sessionService","$http",function(a,b,c,d,e){return{getCart:b(c+"/users/cart/get-product",null,{get:{method:"GET"}}),AddtoCart:b(c+"/users/cart/add-product",null,{get:{method:"POST"}}),UpdateToCart:b(c+"/users/cart/update-product",null,{get:{method:"POST"}}),RemoveCart:b(c+"/users/cart/remove-product",null,{get:{method:"DELETE"}}),parseFeed:function(a){return e.jsonp("//ajax.googleapis.com/ajax/services/feed/load?v=1.0&num=50&callback=JSON_CALLBACK&q="+encodeURIComponent(a))}}}]),angular.module("eCommerceUserApp").factory("Category",["$resource","endpoint","sessionService",function(a,b,c){return{getCategory:a(b+"/users/category/get-categories",null,{get:{method:"GET"}}),getCategoryProduct:a(b+"/products/features",null,{get:{method:"GET"}}),getPage:a(b+"/pages/:id",{id:"@id"},{get:{method:"GET"}})}}]),angular.module("eCommerceUserApp").factory("Checkout",["$routeParams","$resource","endpoint","sessionService",function(a,b,c,d){return{addShipAddress:b(c+"/users/checkout/add-shipaddress",null,{get:{method:"POST"}}),addBillAddress:b(c+"/users/checkout/add-billaddress",null,{get:{method:"POST"}}),getAddress:b(c+"/users/checkout/get-address",null,{get:{method:"GET"}})}}]),angular.module("eCommerceUserApp").factory("ConfirmUser",["$routeParams","$resource","endpoint","sessionService",function(a,b,c,d){return{confirmCheck:b(c+"/users/confirmuser/"+a.id,null,{get:{method:"GET"}})}}]),angular.module("eCommerceUserApp").factory("Forgot",["$resource","endpoint",function(a,b){return a(b+"/users/forgot",null,{forgot:{method:"POST"}})}]),angular.module("eCommerceUserApp").factory("Main",["$routeParams","$resource","endpoint","sessionService",function(a,b,c,d){return{getHomepage:b(c+"/admin/home-page-settings",null,{get:{method:"GET"}}),getCountry:b(c+"/countries",null,{get:{method:"GET"}})}}]),angular.module("eCommerceUserApp").factory("newPassword",["$routeParams","$resource","endpoint","sessionService",function(a,b,c,d){return b(c+"/users/newpassword/"+a.id,null,{newpassword:{method:"POST"}})}]),angular.module("eCommerceUserApp").factory("Notify",["$routeParams","$resource","endpoint","sessionService",function(a,b,c,d){return{saveOrder:b(c+"/users/payment/save-order",null,{get:{method:"GET",headers:{Authorization:d.get("user_token")}}})}}]),angular.module("eCommerceUserApp").factory("Order",["$routeParams","$resource","endpoint","sessionService",function(a,b,c,d){return{getOrder:b(c+"/users/order/get-order",null,{get:{method:"GET",headers:{Authorization:d.get("user_token")}}})}}]),angular.module("eCommerceUserApp").factory("Payment",["$routeParams","$resource","endpoint","sessionService",function(a,b,c,d){return{saveOrder:b(c+"/users/payment/save-order",null,{get:{method:"GET",headers:{Authorization:d.get("user_token")}}})}}]),angular.module("eCommerceUserApp").factory("Product",["$routeParams","$resource","endpoint","sessionService",function(a,b,c,d){return{getTopProducts:b(c+"/users/product/get-products",null,{get:{method:"GET"}}),getBestSeller:b(c+"/users/product/best-sellers",null,{get:{method:"GET"}}),getTopRated:b(c+"/users/product/top-rated",null,{get:{method:"GET"}}),getBestOffer:b(c+"/users/product/best-offers",null,{get:{method:"GET"}}),getPopular:b(c+"/users/product/popular",null,{get:{method:"GET"}}),detailsProduct:b(c+"/users/product/get-single-product/:id",{id:"@id"},{get:{method:"GET"}}),cateProduct:b(c+"/users/product/get-products?category=:category",{category:"@category"},{get:{method:"GET"}}),AddtoCart:b(c+"/users/cart/add-product",null,{get:{method:"POST"}}),priceProduct:b(c+"/users/product/get-products?category=:category",{category:"@category"},{get:{method:"GET"}}),getAllProducts:b(c+"/users/product/get-products",null,{get:{method:"GET"}}),getRecentProducts:b(c+"/users/product/get-products",null,{get:{method:"GET"}}),checkReview:b(c+"/users/product/check-review/:id/:oid",{id:"@id",oid:"@oid"},{get:{method:"GET"}}),saveReview:b(c+"/users/product/save-review/:id/:oid",{id:"@id",oid:"@oid"},{get:{method:"POST"}}),addReturn:b(c+"/users/product/add-return/:id/:oid",{id:"@id",oid:"@oid"},{get:{method:"POST"}}),reviewDetails:b(c+"/users/product/get-review/:id",{id:"@id"},{get:{method:"GET"}}),detailsReturnProduct:b(c+"/users/product/get-returnproduct/:id/:oid",{id:"@id",oid:"@oid"},{get:{method:"GET"}}),getRecentViewProducts:b(c+"/users/product/get-products",null,{get:{method:"GET"}}),shopList:b(c+"/users/get-sellers",null,{get:{method:"GET"}}),shopTop:b(c+"/users/product/by/seller/:id/top-products",{id:"@id"},{get:{method:"GET"}}),shopProducts:b(c+"/users/product/by/seller/:id",{id:"@id"},{get:{method:"GET"}}),getAdmin:b(c+"/admin/settings",null,{get:{method:"GET"}})}}]),angular.module("eCommerceUserApp").factory("Register",["$resource","endpoint",function(a,b){return a(b+"/users/register",null,{register:{method:"POST"}})}]),angular.module("eCommerceUserApp").factory("search",["$resource","endpoint",function(a,b){return{searchProduct:a(b+"/users/product/get-products?name=:name",{name:"@name"},{get:{method:"GET"}}),searchPriceProduct:a(b+"/users/product/get-products",null,{get:{method:"GET"}})}}]),angular.module("eCommerceUserApp").factory("UserAuth",["$resource","endpoint","sessionService",function(a,b,c){return a(b+"/users/login",null,{login:{method:"POST"}})}]);